# Synthetic Sensor Data Generation Framework

## Summary
Synthetic datasets are essential for developing and validating algorithms for sensor diagnostics, anomaly detection, and uncertainty estimation, especially when field data with known ground truth are unavailable. This software provides an **R Shiny–based framework** for generating **two correlated or redundant sensor time series** with **user-configurable background signals and injected anomalies**. The generated data include **labels for both anomaly type** (spike, drift, delay/attenuation, noise) and **true error magnitude**, enabling quantitative evaluation of detection and diagnostic methods.

The framework is designed to support reproducible benchmarking of sensor data quality assessment techniques in oceanography, environmental monitoring, and other domains where controlled evaluation datasets are scarce.

## Statement of need
While real-world sensor datasets are valuable, they rarely include complete ground-truth labels for error types and magnitudes. This limits the ability to systematically evaluate diagnostic algorithms. Existing simulation tools often focus on signal generation but lack flexible control over correlated multi-sensor configurations, diverse anomaly types, and labeled outputs for benchmarking.

This software addresses these gaps by:
- Allowing **two sensors** to measure either the same or correlated background signals.
- Providing a **broad set of configurable anomaly types**: spikes, drifts, sensor delay/attenuation, noise, and constant bias.
- Enabling **precise control over anomaly magnitude, duration, and correlation** between sensors.
- Outputting **CSV files with labeled anomalies** for use in supervised learning and method validation.

## Implementation
The framework is implemented in **R** and is provided both as:
1. A **Shiny application** for interactive configuration and dataset export.
2. A set of **modular R functions** for programmatic dataset generation.

### Background signal
Users can choose from several background signal models:
- **Autoregressive process (AR(1))** — for stationary signals with tunable autocorrelation.
- **Random walk** — a special case of AR(1) with strong temporal autocorrelation.
- **Poisson moving average** — for smoothed stochastic signals.
- **Sine wave** — for periodic variation.

The background signals can be **identical or correlated** between sensors, with user-defined cross-correlation.

### Anomaly types
Anomalies can be introduced individually or in combination:
- **Delay/attenuation** — models exponential moving average sensor response.
- **Noise and constant bias** — configurable per sensor, with optional correlation between noise terms.
- **Spikes** — short-duration deviations, correlated or uncorrelated between sensors, with random sign and magnitude.
- **Drifts** — gradual deviations over time, with configurable slope and duration.

Anomalies are inserted at random positions while ensuring spacing from time-series edges to avoid boundary artifacts.

### Output
The output is a **CSV file** containing:
- Time series for both sensors.
- Flags for each time step indicating anomaly type.
- True error magnitude for each sensor.

### Reproducibility
All random processes are controlled via a user-specified random seed. Full mathematical details of signal generation and anomaly injection are provided in the supplementary materials ([link to repository]).

## Example
An example workflow for generating a dataset with correlated AR(1) background signal, additive Gaussian noise, and occasional spikes:

```r
library(synthsensor)

set.seed(123)
data <- generate_dataset(
  n = 1000,
  background = "ar1",
  phi = 0.9,
  noise_sd = c(0.5, 0.5),
  spikes = list(count = 3, amplitude = 5, correlated = TRUE)
)

write.csv(data, "synthetic_dataset.csv", row.names = FALSE)
```
